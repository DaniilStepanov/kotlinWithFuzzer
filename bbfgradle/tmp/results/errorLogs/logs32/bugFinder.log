2021-03-11 20:33:17,088 [main:24] - Name = /home/stepanov/Kotlin/bbfgradle/tmp/arrays/crossinlineCallableReference.kt
2021-03-11 20:33:21,661 [main:53] - Start to mutate
2021-03-11 20:33:21,661 [main:54] - BEFORE = 

import kotlin.contracts.*
interface SomeOutputScreenCallbacks {
    fun ontest()
}

class OutputWorkScreenView(callbacks: SomeOutputScreenCallbacks) {
    val root = vBox {
        button(callbacks::ontest)
    }
}

inline fun vBox(crossinline action: () -> Unit) {
    contract {
        callsInPlace(action, InvocationKind.EXACTLY_ONCE)
    }
    return { action() }()
}

inline fun button(onAction: () -> Unit) {
    onAction()
}

fun box(): String {
    var res = "FAIL"
    OutputWorkScreenView(object : SomeOutputScreenCallbacks {
        override fun ontest() {
            res = "OK"
        }
    })
    return res
}


2021-03-11 20:33:22,425 [main:40] - Mutation of tmp/tmp0.kt started
2021-03-11 20:33:22,758 [main:19] - Cur transformation AddDefaultValueToArg
2021-03-11 20:33:25,640 [main:19] - Cur transformation LocalTCE
2021-03-11 20:33:37,857 [main:19] - Cur transformation AddReificationToTypeParam
2021-03-11 20:33:37,864 [main:19] - Cur transformation TCETransformation
