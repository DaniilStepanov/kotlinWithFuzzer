2021-03-12 09:28:17,925 [main:24] - Name = /home/stepanov/Kotlin/bbfgradle/tmp/arrays/uIntArrayIteratorWithoutBoxing.kt
2021-03-12 09:28:21,991 [main:53] - Start to mutate
2021-03-12 09:28:21,991 [main:54] - BEFORE = inline class UInt(private val value: Int)

inline class UIntArray(private val intArray: IntArray) {
    operator fun iterator(): UIntIterator = UIntIterator(intArray.iterator()) // create iterator
}

inline class UIntIterator(private val intIterator: IntIterator) : Iterator<UInt> {
    override fun next(): UInt {
        return UInt(intIterator.next()) // box inside bridge that returns java/lang/Object
    }

    override fun hasNext(): Boolean {
        return intIterator.hasNext()
    }
}

fun uIntArrayOf(vararg u: Int): UIntArray = UIntArray(u)

fun test() {
    val a = uIntArrayOf(1, 2, 3, 4)
    for (element in a) {
        takeUInt(element)
    }
}

fun takeUInt(u: UInt) {}
2021-03-12 09:28:22,880 [main:40] - Mutation of tmp/tmp0.kt started
2021-03-12 09:28:23,295 [main:19] - Cur transformation AddDefaultValueToArg
2021-03-12 09:28:26,020 [main:19] - Cur transformation LocalTCE
2021-03-12 09:28:44,068 [main:19] - Cur transformation AddReificationToTypeParam
2021-03-12 09:28:44,077 [main:19] - Cur transformation TCETransformation
2021-03-12 09:40:45,497 [main:19] - Cur transformation ChangeRandomASTNodesFromAnotherTrees
