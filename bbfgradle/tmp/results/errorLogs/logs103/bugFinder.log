2021-03-12 08:49:27,625 [main:24] - Name = /home/stepanov/Kotlin/bbfgradle/tmp/arrays/kt27096_enum.kt
2021-03-12 08:49:32,226 [main:53] - Start to mutate
2021-03-12 08:49:32,227 [main:54] - BEFORE = enum class En { N, A, B, C }

inline class Z1(val x: En)
inline class Z2(val z: Z1)
inline class ZN(val z: Z1?)

fun wrap1(x: En): Z1? = if (x.ordinal == 0) null else Z1(x)
fun wrap2(x: En): Z2? = if (x.ordinal == 0) null else Z2(Z1(x))
fun wrapN(x: En): ZN? = if (x.ordinal == 0) null else ZN(Z1(x))

fun box(): String {
    val n = En.N
    val a = En.A

    if (wrap1(n) != null) throw AssertionError()
    if (wrap1(a) == null) throw AssertionError()
    if (wrap1(a)!!.x != a) throw AssertionError()

    if (wrap2(n) != null) throw AssertionError()
    if (wrap2(a) == null) throw AssertionError()
    if (wrap2(a)!!.z.x != a) throw AssertionError()

    if (wrapN(n) != null) throw AssertionError()
    if (wrapN(a) == null) throw AssertionError()
    if (wrapN(a)!!.z!!.x != a) throw AssertionError()

    return "OK"
}
2021-03-12 08:49:33,459 [main:40] - Mutation of tmp/tmp0.kt started
2021-03-12 08:49:33,949 [main:19] - Cur transformation AddDefaultValueToArg
2021-03-12 08:49:41,150 [main:19] - Cur transformation LocalTCE
2021-03-12 08:50:41,126 [main:19] - Cur transformation AddReificationToTypeParam
2021-03-12 08:50:41,133 [main:19] - Cur transformation TCETransformation
