// Bug happens on JVM , JS 
// FILE: tmp0.kt

class A (val p: String, p1: (String)?, p2: String) {
    var cond2: String = "ytywz"
    var cond1: String = "OK"


val c = (false)
    val MyEnum = if (cond1(p)) {
println("""THEN""");
"OK"
} else {
println("""ELSE""");
try
{
println("""TRY""");
cond2 = "1"
}
catch(charList: Exception){
println("""CATCH charList: Exception""");

}
finally{
println("""FINALLY""");

}
}
        
    val cResult = if (cond2(cond2)) {
println("""THEN""");
p2
} else {
println("""ELSE""");
null
};

    


        


var result: String? = null


        
val l = true
    
fun cond1(sideEffects: String): Boolean {
when (l) {
 false -> {
println("""WHEN false""");
cond1 != "OK"
}
 else -> {
println("""WHEN """);
cond1 = "OK"
}
}
null
        return (p == "cond1")
}


val O = "O"
    fun cond1(ulongList: Int): Boolean = false


fun cond2(x: String): Boolean {




when (c) {
 true -> {
println("""WHEN true""");
return cond2 == "OK"
}
 else -> {
println("""WHEN """);
return p == "OK"
}
}
    }
fun testShort(v: Short): Short {
    var value = 0.toShort()
    fun setValue(v: Short) {
        value = v
    }
    setValue(v)
    return value
}
    override fun toString(): String{
var res = ""
res += p.toString()
res += cond2.toString()
res += cond1.toString()
res += c.toString()
res += MyEnum.toString()
res += cResult.toString()
res += result.toString()
res += l.toString()
res += O.toString()
return res
}}
var t = 0
fun box(): String {
    val check = true
fun x(x: String): Boolean = false
fun cond1(a: Int): Boolean = true
val a = A("qux", "failed", "OK")
try
{
println("""TRY""");
if (a.cond2 != "OK") {
println("""THEN""");
return "OK"
}
}
catch(state: Exception){
println("""CATCH state: Exception""");

}
finally{
println("""FINALLY""");

}



fun box(): String {
    val list = mutableListOf(3, 2, 4, 8, 1, 5)
    val expected = listOf(8, 5, 4, 3, 2, 1)
    val comparatorFun: (Int, Int) -> Int = { a, b -> b - a }
    list.sortWith(Comparator(comparatorFun))
    return if (list == expected) {
println("""THEN""");
"OK"
} else {
println("""ELSE""");
list.toString()
}
}
val s = return ""
fun <T> run(f: () -> T): T = f()
val cl = 39

when (s) {
 a.p in "OK" -> {
println("""WHEN a.p in OK""");
if (a.cond2 != "cond2") {
println("""THEN""");
false
}
}
 else -> {
println("""WHEN """);
return ""
}
}

    

fun cond2(): Boolean = true
val d = false
    fun String(x: Int): Any = true

fun cond1(Int: Any): Boolean = true
when (d) {

 true -> {
println("""WHEN true""");
return " finally 2"
}
 else -> {
println("""WHEN """);
if (true) {
println("""THEN""");
"OK"
}
}
}
}


